{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const baseURL = 'https://pixabay.com';\nexport const fetchRequest = (value) => {\nconst urlOptions = new URLSearchParams({\n    key: \"45468562-3d934deccae668c7d7f46b2f1\",\n    q: value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n});\n    \n    console.log(`${baseURL}/api/?${urlOptions}`);\n   return fetch(`${baseURL}/api/?${urlOptions}`)\n    .then((resolve) => {\n        if (!resolve.ok) {\n            throw new Error(\"Error!\")\n        }\n        return resolve.json();\n    })\n}","export function createCard (imgData) {\n    return `\n    <li class=\"card-list-item\">\n    <a class=\"card-list-link\" href=\"${imgData.largeImageURL}\">\n        <img src=\"${imgData.webformatURL}\" alt=\"${imgData.tags}\" class=\"card-list-item-img\" />\n        </a>\n        <ul class=\"card-item-inside-list\">\n          <li class=\"inside-list-item\">\n            <h3>Likes</h3>\n            <p>${imgData.likes}</p>\n          </li>\n          <li class=\"inside-list-item\">\n            <h3>Views</h3>\n            <p>${imgData.views}</p>\n          </li>\n          <li class=\"inside-list-item\">\n            <h3>Comments</h3>\n            <p>${imgData.comments}</p>\n          </li>\n          <li class=\"inside-list-item\">\n            <h3>Downloads</h3>\n            <p>${imgData.downloads}</p>\n          </li>\n        </ul>\n    </li>\n    `\n}\n\n\n\n\n  \n\n\n\n\n\n","import { fetchRequest } from \"./js/pixabay-api\";\nimport { createCard } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\nconst searchForm = document.querySelector(\".search-form\");\nconst cardsList = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nconst onSearchFormSubmit = (event) => {\nloader.classList.add(\"is-open\")\n    event.preventDefault();\n    \n    const searchValue = searchForm.elements.user_query.value;\n    fetchRequest(searchValue)\n        .then((data) => {\n            if (data.hits.length === 0) {\n                iziToast.info({\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: \"topCenter\",\n                    title: \"Atenttion\",\n                    color: \"red\",\n                    timeout: 4000,\n                })\n            }\n            let info = data.hits.map(imgInfo =>\n                createCard(imgInfo)).join(\"\");\n            cardsList.innerHTML = info;\n            loader.classList.remove(\"is-open\");\n            let gallery = new SimpleLightbox(\".gallery li a\", {\n  captions: true, \n  captionClass: \"style-caption\",\n  captionsData: 'alt', \n  captionDelay: 250, \n  disableRightClick: true,\n  });\n  gallery.refresh();\n        })\n        .catch((err) => {\n            console.log(err);\n        })\n    searchForm.reset();\n};\nsearchForm.addEventListener(\"submit\", onSearchFormSubmit);"],"names":["baseURL","fetchRequest","value","urlOptions","resolve","createCard","imgData","searchForm","cardsList","loader","onSearchFormSubmit","event","searchValue","data","iziToast","info","imgInfo","SimpleLightbox","err"],"mappings":"6vBAAA,MAAMA,EAAU,sBACHC,EAAgBC,GAAU,CACvC,MAAMC,EAAa,IAAI,gBAAgB,CACnC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAC,EAEG,eAAQ,IAAI,GAAGF,CAAO,SAASG,CAAU,EAAE,EACrC,MAAM,GAAGH,CAAO,SAASG,CAAU,EAAE,EAC1C,KAAMC,GAAY,CACf,GAAI,CAACA,EAAQ,GACT,MAAM,IAAI,MAAM,QAAQ,EAE5B,OAAOA,EAAQ,MACvB,CAAK,CACL,EClBO,SAASC,EAAYC,EAAS,CACjC,MAAO;AAAA;AAAA,sCAE2BA,EAAQ,aAAa;AAAA,oBACvCA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,iBAK7CA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,iBAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,iBAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA,KAKlC,CCtBA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAsBC,GAAU,CACtCF,EAAO,UAAU,IAAI,SAAS,EAC1BE,EAAM,eAAc,EAEpB,MAAMC,EAAcL,EAAW,SAAS,WAAW,MACnDN,EAAaW,CAAW,EACnB,KAAMC,GAAS,CACRA,EAAK,KAAK,SAAW,GACrBC,EAAS,KAAK,CACV,QAAS,2EACT,SAAU,YACV,MAAO,YACP,MAAO,MACP,QAAS,GAC7B,CAAiB,EAEL,IAAIC,EAAOF,EAAK,KAAK,IAAIG,GACrBX,EAAWW,CAAO,CAAC,EAAE,KAAK,EAAE,EAChCR,EAAU,UAAYO,EACtBN,EAAO,UAAU,OAAO,SAAS,EACnB,IAAIQ,EAAe,gBAAiB,CAC5D,SAAU,GACV,aAAc,gBACd,aAAc,MACd,aAAc,IACd,kBAAmB,EACrB,CAAG,EACO,QAAO,CACjB,CAAS,EACA,MAAOC,GAAQ,CACZ,QAAQ,IAAIA,CAAG,CAC3B,CAAS,EACLX,EAAW,MAAK,CACpB,EACAA,EAAW,iBAAiB,SAAUG,CAAkB"}